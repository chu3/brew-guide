@import 'tailwindcss';

@config '../../../tailwind.config.ts';

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* 变量定义 */
:root {
  --foreground: #000;
  --background: #FAFAFA;
  --font-sans: var(--font-noto-sans-sc), var(--font-inter), -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  --font-timer: var(--font-timer);
  --keyboard-height: 0px;
  --custom-shape-color: #000000;
}

/* 暗黑模式 */
.dark {
  --foreground: #fff;
  --background: #171717;
  --custom-shape-color: #ffffff;
}

.dark .dark\:invert {
  filter: invert(1);
}

/* SVG 样式 */
.custom-cup-shape svg *,
.custom-shape-svg-container svg *,
.outline-only svg * {
  stroke: var(--custom-shape-color) !important;
  fill: none !important;
  stroke-width: 1.5px !important;
}

.custom-cup-shape svg,
.custom-shape-svg-container svg {
  width: 300px !important;
  height: 300px !important;
  max-width: 100% !important;
  max-height: 100% !important;
}

/* 基础样式 */
* {
  -webkit-tap-highlight-color: transparent;
}

html,
body {
  color: var(--foreground);
  background: var(--background);
  position: fixed;
  inset: 0;
  touch-action: manipulation;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 滚动条 */
::-webkit-scrollbar {
  width: 0;
  background: transparent;
}

/* 底部间距容器 */
.scroll-with-bottom-bar,
.content-area {
  padding-bottom: calc(env(safe-area-inset-bottom) + 100px);
}

/* 底部操作栏 */
.bottom-action-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 50;
  background: var(--background);
  box-shadow: 0 -1px 0 0 var(--background);
}

/* 键盘弹出时的焦点元素处理 */
input:focus,
textarea:focus,
select:focus,
[contenteditable]:focus {
  position: relative;
  z-index: 10;
  scroll-margin-top: 100px;
  scroll-margin-bottom: 100px;
}

/* 模态框底部按钮 */
.modal-bottom-button {
  position: sticky;
  bottom: 16px;
  z-index: 10;
  margin: 16px 0;
  transition: bottom 0.3s ease;
}

/* 键盘弹出时底部按钮处理 */
.keyboard-is-open .modal-bottom-button {
  position: fixed;
  bottom: var(--keyboard-height, 0px);
  left: 0;
  right: 0;
  padding: 8px 16px;
  background: var(--background, #fafafa);
  margin: 0;
  z-index: 60;
  box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.05);
}

/* 计时器字体 */
.timer-font {
  font-family: var(--font-timer);
  font-feature-settings: "tnum" on, "lnum" on;
}

/* 动画效果 */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes zoomIn {
  from { transform: scale(0.99); }
  to { transform: scale(1); }
}

@keyframes zoomOut {
  from { transform: scale(1); }
  to { transform: scale(0.99); }
}

@keyframes slideInFromTop {
  from { transform: translateY(-0.5rem); }
  to { transform: translateY(0); }
}

@keyframes slideOutToTop {
  from { transform: translateY(0); }
  to { transform: translateY(-0.5rem); }
}

@keyframes slideInFromBottom {
  from { transform: translateY(0.5rem); }
  to { transform: translateY(0); }
}

@keyframes slideOutToBottom {
  from { transform: translateY(0); }
  to { transform: translateY(0.5rem); }
}

@keyframes slideInFromLeft {
  from { transform: translateX(-0.5rem); }
  to { transform: translateX(0); }
}

@keyframes slideOutToLeft {
  from { transform: translateX(0); }
  to { transform: translateX(-0.5rem); }
}

@keyframes slideInFromRight {
  from { transform: translateX(0.5rem); }
  to { transform: translateX(0); }
}

@keyframes slideOutToRight {
  from { transform: translateX(0); }
  to { transform: translateX(0.5rem); }
}

.animate-in {
  animation: fadeIn 150ms ease, zoomIn 150ms ease;
}

.animate-out {
  animation: fadeOut 150ms ease, zoomOut 150ms ease;
}

.fade-in-0 {
  animation: fadeIn 150ms ease;
}

.fade-out-0 {
  animation: fadeOut 150ms ease;
}

.zoom-in-95 {
  animation: zoomIn 150ms ease;
}

.zoom-out-95 {
  animation: zoomOut 150ms ease;
}

.slide-in-from-top-2 {
  animation: slideInFromTop 150ms ease;
}

.slide-out-to-top-2 {
  animation: slideOutToTop 150ms ease;
}

.slide-in-from-bottom-2 {
  animation: slideInFromBottom 150ms ease;
}

.slide-out-to-bottom-2 {
  animation: slideOutToBottom 150ms ease;
}

.slide-in-from-left-2 {
  animation: slideInFromLeft 150ms ease;
}

.slide-out-to-left-2 {
  animation: slideOutToLeft 150ms ease;
}

.slide-in-from-right-2 {
  animation: slideInFromRight 150ms ease;
}

.slide-out-to-right-2 {
  animation: slideOutToRight 150ms ease;
}